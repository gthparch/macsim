/*
* Sample mergesort open-source code.
* This is to be used with x86 trace generator and PIN.
* Trace was generated with PIN VERSION 3.13 !!!!
*/


#include<stdio.h>
 
void mergesort(int a[],int i,int j);
void merge(int a[],int i1,int j1,int i2,int j2);
int arraySortedOrNot(int arr[], int n);
 
int main()
{
	int a[500] = {442841, 685811, 411731, 25051, 590491, 628341, 147541, 358121, 373741, 560481, 242461, 548391, 276171, 884981, 853131, 158901, 802811, 134431, 911461, 579851, 835771, 58261, 722581, 660921, 722201, 795651, 248861, 806231, 655551, 410311, 108231, 110261, 805561, 700821, 966561, 59181, 754661, 461631, 192121, 238931, 640521, 114121, 707411, 834181, 407521, 885581, 825051, 747421, 95631, 993111, 833191, 557621, 789051, 909421, 580521, 18421, 860291, 603521, 28401, 13771, 345841, 242851, 853761, 815371, 58461, 766021, 676671, 272131, 530681, 817671, 91761, 205901, 51931, 911741, 726431, 755671, 403301, 575601, 691951, 653311, 259551, 88491, 44341, 717341, 685731, 191671, 551161, 363781, 794861, 260851, 50951, 338251, 891651, 42411, 751621, 869321, 265331, 981601, 851051, 62591, 124511, 19941, 565651, 84521, 48871, 839731, 912771, 223741, 271281, 651661, 675281, 245151, 44011, 763491, 785181, 246731, 312591, 718581, 559731, 695701, 95161, 61151, 10461, 453161, 169811, 903061, 221261, 739201, 716061, 553041, 718151, 540311, 363781, 736421, 117971, 825481, 526941, 83651, 222721, 465011, 170841, 636741, 805851, 26101, 827351, 23981, 333491, 105891, 316011, 990181, 110561, 140721, 269211, 592111, 415281, 163371, 633311, 850831, 912061, 528461, 758481, 101441, 463751, 241991, 358041, 783221, 66721, 437101, 385311, 619341, 468811, 958421, 170231, 839051, 681031, 963491, 304121, 963031, 782141, 394871, 896681, 725961, 684991, 391821, 499011, 198331, 435541, 22911, 320081, 527601, 64681, 237101, 589121, 864541, 869031, 324601, 871031, 915921, 261571, 529391, 707831, 100011, 375841, 417181, 954771, 171661, 480141, 258761, 938301, 444411, 243461, 416961, 765141, 911881, 961301, 215481, 843521, 429391, 724831, 747641, 447811, 557241, 677221, 824951, 886561, 430221, 499581, 998861, 295921, 870531, 864001, 430351, 932941, 69591, 532081, 119181, 794831, 117371, 496361, 199841, 83111, 38591, 503811, 870181, 595131, 478341, 289101, 305231, 56391, 67031, 733871, 483451, 233411, 843611, 800711, 206021, 971081, 384091, 986561, 399341, 935111, 879871, 98651, 166111, 120061, 691301, 668361, 732791, 367051, 859341, 25371, 221661, 543531, 464331, 391131, 297161, 740311, 920131, 414521, 891731, 196611, 678021, 330431, 497241, 186061, 790631, 32471, 53501, 11491, 99171, 363091, 343381, 441091, 523761, 358851, 954081, 582511, 431481, 995021, 614431, 811791, 559301, 627831, 534531, 796811, 711981, 398101, 773071, 822621, 328501, 287151, 886701, 252301, 112641, 62321, 305151, 55191, 722911, 276661, 712541, 941671, 325411, 470751, 631011, 730771, 246691, 205821, 905991, 395011, 815451, 195171, 860471, 557881, 477211, 845111, 45211, 757441, 83841, 955571, 761581, 228681, 976401, 940121, 374731, 763071, 923591, 247221, 774251, 169871, 615841, 444151, 137231, 986461, 304971, 65351, 980081, 168891, 315741, 609671, 707661, 885031, 499351, 133711, 483921, 144671, 57441, 534861, 872811, 321091, 808081, 710351, 874611, 179161, 49241, 650151, 245121, 146271, 248811, 844241, 588501, 979781, 655001, 257141, 694381, 150981, 904421, 839671, 21181, 732251, 348631, 15561, 72441, 213171, 537721, 360521, 276871, 160861, 50431, 399331, 465311, 473321, 58551, 54061, 999521, 878911, 841931, 508191, 87581, 498411, 714341, 235481, 540121, 756321, 406901, 142281, 561961, 658181, 144961, 884991, 851231, 945381, 812191, 294101, 163801, 966111, 577241, 178731, 883191, 124911, 105811, 911331, 244941, 507761, 873181, 524971, 478851, 939641, 74311, 824111, 480451, 369461, 444111, 638781, 386331, 447541, 402031, 301961, 140071, 499011, 319691, 259271, 625621, 202501, 616471, 592401, 774211, 136081, 684411, 938611, 715241, 597781, 10571, 248371, 659431, 232381, 379361, 145801, 74881, 343671, 753601, 477491, 620171, 568451, 582891, 395921, 122871, 163471, 940571, 669611, 127631, 346721, 755521, 871401, 892481, 33441, 701321, 93571, 140381, 425601, 933581, 832821, 101091, 522401, 520691, 781511, 68691, 667901, 812541, 906741, 972571};
    
    int n = 500;

	mergesort(a,0,n-1);

    int result = arraySortedOrNot(a,n);

    if (result == 1){
        return 0;
    } else {
        return -1;
    }
}
 
void mergesort(int a[],int i,int j)
{
	int mid;
		
	if(i<j)
	{
		mid=(i+j)/2;
		mergesort(a,i,mid);		//left recursion
		mergesort(a,mid+1,j);	//right recursion
		merge(a,i,mid,mid+1,j);	//merging of two sorted sub-arrays
	}
}
 
void merge(int a[],int i1,int j1,int i2,int j2)
{
	int temp[600];	//array used for merging
	int i,j,k;
	i=i1;	//beginning of the first list
	j=i2;	//beginning of the second list
	k=0;
	
	while(i<=j1 && j<=j2)	//while elements in both lists
	{
		if(a[i]<a[j])
			temp[k++]=a[i++];
		else
			temp[k++]=a[j++];
	}
	
	while(i<=j1)	//copy remaining elements of the first list
		temp[k++]=a[i++];
		
	while(j<=j2)	//copy remaining elements of the second list
		temp[k++]=a[j++];
		
	//Transfer elements from temp[] back to a[]
	for(i=i1,j=0;i<=j2;i++,j++)
		a[i]=temp[j];
}

int arraySortedOrNot(int arr[], int n) 
{ 
    // Array has one or no element or the 
    // rest are already checked and approved. 
    if (n == 1 || n == 0) 
        return 1; 
  
    // Unsorted pair found (Equal values allowed) 
    if (arr[n - 1] < arr[n - 2]) 
        return 0; 
  
    // Last pair was sorted 
    // Keep on checking 
    return arraySortedOrNot(arr, n - 1); 
} 